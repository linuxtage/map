<!DOCTYPE html>
<html>
<head>
  <title>Grazer Linuxtage Venue Map</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="assets/favicon.png" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
   crossorigin=""/>
  <link rel="stylesheet" href="style.css" />

  <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
   integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
   crossorigin=""></script>

<!--
  <script src="leaflet-hash.js"></script>

  <script src='L.Control.Locate.mine.js'></script>
-->

</head>
<body>

<noscript>
  <br><hr><br>
  <h3>Thanks for your privacy-awareness and disabled JavaScript!</h3>
  <p>Unfortunately, this interactive map only works with JavaScript enabled - please add an exception for transformap.co!</p>
</noscript>

<div id="mapcontent">
  <div id="map"></div>
</div>

<script>

		var mymap = L.map('map').setView([47.0585, 15.4609], 18);

		L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
			maxZoom: 20,
			maxNativeZoom: 19 ,
		}).addTo(mymap);

	var http_request_buildings = new XMLHttpRequest();
	http_request_buildings.open("GET", 'https://raw.githubusercontent.com/linuxtage/map/master/geodata/buildings.geojson', true);
	http_request_buildings.onreadystatechange = function () {
	  var done = 4, ok = 200;
		if (http_request_buildings.readyState === done && http_request_buildings.status === ok) {
			buildings_geojson = JSON.parse(http_request_buildings.responseText);
			L.geoJSON(buildings_geojson).addTo(mymap);
		}
	}
	http_request_buildings.send(null);


//     var hash = new L.Hash(map); // Leaflet persistent Url Hash function

		// addLocate();
		// L.control.scale({imperial: false}).addTo(map);
		// L.control.mousePosition().addTo(map);

</script>
</body>
</html>
